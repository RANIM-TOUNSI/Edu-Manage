<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: html}">

<body>
    <div th:fragment="content">
        <div class="welcome-header animate-fade-in mb-5">
            <h1 class="brand-name" style="font-size: 2.5rem; margin-bottom: 0.5rem;">Academic Facilitator Dashboard</h1>
            <p class="text-muted lead">Welcome back, <span th:text="${formateurName}"
                    style="color: var(--primary); font-weight: 700;">Trainer</span>. Here is your current curriculum
                status.</p>
        </div>

        <div class="dashboard-stats mb-5"
            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
            <div class="card"
                style="border: none; background: linear-gradient(135deg, #4f46e5 0%, #3730a3 100%); color: white;">
                <h4 style="font-size: 0.8rem; text-transform: uppercase; opacity: 0.8;">My Curriculum</h4>
                <p style="font-size: 2rem; font-weight: 800; margin: 0;" th:text="${courses.size()}">0</p>
                <div style="font-size: 0.9rem; margin-top: 0.5rem;">Assigned Courses</div>
            </div>
            <div class="card" style="border: none; background: white; box-shadow: 0 10px 30px rgba(0,0,0,0.02);">
                <h4 style="color: var(--text-muted); font-size: 0.8rem; text-transform: uppercase;">Management</h4>
                <p style="font-size: 2rem; font-weight: 800; margin: 0; color: var(--text-main);">Quick Access</p>
                <div style="font-size: 0.9rem; color: var(--text-muted); margin-top: 0.5rem;">Gradebooks & Attendance
                </div>
            </div>
        </div>

        <div class="section-header mb-4" style="display: flex; justify-content: space-between; align-items: center;">
            <h2 style="font-weight: 700; color: var(--text-main);">Assigned Courses</h2>
            <span class="badge" th:text="${courses.size() + ' Active Units'}"
                style="background: rgba(79, 70, 229, 0.1); color: var(--primary); padding: 0.5rem 1rem; border-radius: 100px; font-weight: 600;"></span>
        </div>

        <div th:if="${courses.empty}" class="alert alert-info">
            <i class="bi bi-info-circle-fill me-2"></i> You are not assigned to any courses for the current semester.
        </div>

        <div class="course-grid"
            style="display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 2rem;">
            <div th:each="course : ${courses}" class="card course-card overflow-hidden"
                style="padding: 2rem; transition: 0.3s; position: relative;">
                <div style="position: absolute; top: 0; left: 0; width: 4px; height: 100%; background: var(--primary);">
                </div>
                <div class="d-flex justify-content-between align-items-start mb-3">
                    <span class="badge" th:text="${course.code}"
                        style="background: #f1f5f9; color: #64748b; font-weight: 700; font-size: 0.75rem;">MAT101</span>
                    <i class="bi bi-journal-bookmark-fill" style="color: var(--primary); font-size: 1.25rem;"></i>
                </div>
                <h3 th:text="${course.title}"
                    style="font-weight: 700; color: var(--text-main); margin-bottom: 0.75rem;">Advanced Mathematics</h3>
                <p th:text="${course.description}" class="text-muted mb-4"
                    style="font-size: 0.9rem; line-height: 1.5; display: -webkit-box; -webkit-line-clamp: 3; line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; min-height: 4rem;">
                    Course description goes here...
                </p>
                <div class="d-grid mt-auto">
                    <a th:href="@{/formateur/course/{id}/grades(id=${course.id})}" class="btn btn-primary"
                        style="justify-content: center;">
                        <i class="bi bi-pencil-square"></i> Open Gradebook
                    </a>
                </div>
            </div>
        </div>
    </div>
</body>

</html>